/** Created by Marina Planells Date 03/Mar/2014 https://github.com/MarinaPlanells/jsCurrencyFormat */
function convertObjectNum(e,t){if(typeof e.attr("value")!=="undefined"&&e.attr("value")!==false){num=parseStringToFloat(e.val());e.val(putComas(num,t.lang,t.showCurrency))}else{num=parseStringToFloat(e.text());e.text(putComas(num,t.lang,t.showCurrency))}}function parseStringToFloat(e){e=e.replace(/\s+/g,"");var t=new RegExp(/^([1-9][0-9]*)([,][0-9]{1,4})?$/);if(t.test(e)){e=e.split(",").join(".")}var n=new RegExp(/^([1-9][0-9]{0,2})([,](\d{3}))*([\.][0-9]{1,4})?$/);if(n.test(e)){e=e.split(",").join("")}var r=new RegExp(/^([1-9][0-9]{0,2})([\.](\d{3}))*([,][0-9]{1,4})?$/);if(r.test(e)){e=e.split(".").join("");e=e.split(",").join(".")}return e}function putComas(e,t,n){var r,i,s,o;switch(t){case"uk":r=".";i=",";s="£";o="before";break;case"fr":r=",";i=" ";s="€";o="after";break;case"ie":r=".";i=",";s="€";o="before";break;case"it":case"be":case"lu":case"nl":case"gr":r=",";i=".";s="€";o="before";break;case"de":case"pt":case"es":r=",";i=".";s="€";o="after";break;case"us":r=".";i=",";s="$";o="before";break;default:r=".";i="";s="€";o="after";break}var u=e.split(".");var a=u[0];var f=u.length>1?r+u[1]:r+"00";var l=/(\d+)(\d{3})/;while(l.test(a)){a=a.replace(l,"$1"+i+"$2")}e=a+f;if(n==true){if(o=="after"){e=e+" "+s}else{e=s+" "+e}}return e}(function(e){var t={init:function(t){var n={lang:"es",showCurrency:false};t=e.extend(n,t);var r="";e(this).each(function(){convertObjectNum(e(this),t)})}};e.fn.currencyFormatter=function(e){return t.init.apply(this,arguments)}})(jQuery)
