/** Created by Marina Planells Date 03/Mar/2014 Updated 23/03/2014 https://github.com/MarinaPlanells/jsCurrencyFormat */
function convertObjectNum(e,t){if(typeof e.attr("value")!=="undefined"&&e.attr("value")!==false){num=parseStringToFloat(e.val());e.val(putComas(num,t.lang,t.showCurrency,t.decimalsNumber))}else{num=parseStringToFloat(e.text());e.text(putComas(num,t.lang,t.showCurrency,t.decimalsNumber))}}function parseStringToFloat(e){e=e.replace(/\s+/g,"");var t=new RegExp(/^([1-9][0-9]{0,2})([,](\d{3}))*([\.][0-9]*)?$/);if(t.test(e)){e=e.split(",").join("")}var n=new RegExp(/^([1-9][0-9]{0,2})([\.](\d{3}))*([,][0-9]*)?$/);if(n.test(e)){e=e.split(".").join("");e=e.split(",").join(".")}var r=new RegExp(/^([1-9][0-9]*)([,][0-9]*)?$/);if(r.test(e)){e=e.split(",").join(".")}return e}function putComas(e,t,n,r){var i,s,o,u;switch(t){case"uk":i=".";s=",";o="£";u="before";break;case"fr":i=",";s=" ";o="€";u="after";break;case"ie":i=".";s=",";o="€";u="before";break;case"it":case"be":case"lu":case"nl":case"gr":i=",";s=".";o="€";u="before";break;case"de":case"pt":case"es":i=",";s=".";o="€";u="after";break;case"us":i=".";s=",";o="$";u="before";break;default:i=".";s="";o="€";u="after";break}num=parseFloat(e).toFixed(r);var a=num.split(".");var f=a[0];var l=a.length>1?i+a[1]:i+"00";var c=/(\d+)(\d{3})/;while(c.test(f)){f=f.replace(c,"$1"+s+"$2")}e=f+l;if(n==true){if(u=="after"){e=e+" "+o}else{e=o+" "+e}}return e}(function(e){var t={init:function(t){var n={lang:"es",showCurrency:false,decimalsNumber:2};t=e.extend(n,t);var r="";e(this).each(function(){convertObjectNum(e(this),t)})}};e.fn.currencyFormatter=function(e){return t.init.apply(this,arguments)}})(jQuery)